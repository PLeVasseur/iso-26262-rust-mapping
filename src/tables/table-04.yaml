id: table-04
style: Table Grid
columns:
- key: principle
  title: Principle
- key: rust_mapping
  title: Rust mapping
- key: key_rules
  title: Key rules
- key: asil_tightening
  title: ASIL tightening
- key: notes_examples
  title: Notes / examples
rows:
- principle: 1a Hierarchical structure
  rust_mapping: "Crates \u2192 modules \u2192 submodules; layered architecture; explicit dependency direction."
  key_rules: "Define architectural layers (e.g., HAL \u2192 platform \u2192 safety services \u2192 application). Enforce via crate boundaries and dependency linting."
  asil_tightening: 'C/D: no layer violations; safety mechanisms isolated in dedicated crates.'
  notes_examples: Use `pub(crate)` and `pub(in path)` to enforce encapsulation.
  row_id: r0001
  cell_trace:
    principle:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_zgIt6HGwU5As
    rust_mapping:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_uiN0o6xU6REU
    key_rules:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_0bLQ8KnxgucH
    asil_tightening:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_KvCZ0ZiYARN3
    notes_examples:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_d9PoOwzQEk31
- principle: 1b Restricted size/complexity
  rust_mapping: Metrics + linting; idiomatic small functions; avoid mega-modules.
  key_rules: Set limits for LOC, cyclomatic complexity, nesting, generic bounds; require refactoring when exceeded.
  asil_tightening: 'C/D: stricter thresholds; require independent review on exceptions.'
  notes_examples: Prefer composition over deep trait hierarchies.
  row_id: r0002
  cell_trace:
    principle:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_VesubWY51nnP
    rust_mapping:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_LUw4ItOBQILA
    key_rules:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_Aa7lvelPKJRp
    asil_tightening:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_6EptVCbqtDrA
    notes_examples:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_7GOOJpapHctZ
- principle: 1c Restricted interface size
  rust_mapping: Small public APIs; narrow traits; explicit types.
  key_rules: Minimize `pub` surface; forbid wildcard re-exports; use newtypes to prevent accidental misuse.
  asil_tightening: 'D: treat all shared interfaces as safety-related; require formal interface review.'
  notes_examples: Prefer `pub(crate)` for internal reuse.
  row_id: r0003
  cell_trace:
    principle:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_VfGXpjxZ0cTy
    rust_mapping:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_V3lRGBmzdqnK
    key_rules:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_YwE4u4zoUQBA
    asil_tightening:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_9GLgVEIvFFJO
    notes_examples:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_Gvfk9yXzHHqy
- principle: 1d Strong cohesion
  rust_mapping: Cohesive modules with single responsibility; private helpers.
  key_rules: "Group by domain concept; avoid \u2018util\u2019 grab-bags; require module-level docs describing responsibilities and invariants."
  asil_tightening: 'C/D: explicit design rationale for module boundaries.'
  notes_examples: Use internal modules to encapsulate unsafe or concurrency details.
  row_id: r0004
  cell_trace:
    principle:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_BcVBgQjbRqSB
    rust_mapping:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_xukN25ulxHpR
    key_rules:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_lW5S5kM9fL9J
    asil_tightening:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_LUP4SzPXzsZP
    notes_examples:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_xP84w0YQXqRF
- principle: 1e Loose coupling
  rust_mapping: Dependency inversion via traits; avoid global state; explicit data flow.
  key_rules: Prefer passing dependencies explicitly; avoid hidden singletons; restrict `lazy_static`/global caches.
  asil_tightening: 'C/D: forbid circular dependencies; require dependency graph checks.'
  notes_examples: Use message passing for cross-component interactions where practical.
  row_id: r0005
  cell_trace:
    principle:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_35H26cIwowrY
    rust_mapping:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_1L4unD2H27u4
    key_rules:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_6TJPQWj30xTJ
    asil_tightening:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_P70bjJW21iNT
    notes_examples:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_BnU5bnOR0emX
- principle: 1f Scheduling properties
  rust_mapping: Deterministic execution model; avoid unbounded work; bounded loops; time budgets.
  key_rules: For RT code, require bounded execution time per cycle; avoid allocation on hot paths; avoid dynamic dispatch in timing-critical code.
  asil_tightening: 'D: timing analysis required; no hidden blocking; bounded locks.'
  notes_examples: Use `#[inline(never)]` selectively to support WCET analysis (tool-dependent).
  row_id: r0006
  cell_trace:
    principle:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_yMDvIq5JUucp
    rust_mapping:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_oX7jLitCoCOM
    key_rules:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_ywc21tYo0dvQ
    asil_tightening:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_RmiyyFh6MtfJ
    notes_examples:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_3JUQJtOsDCwn
- principle: 1g Restricted interrupts
  rust_mapping: Interrupt handlers as minimal, deterministic, side-effect controlled functions; use atomics/critical sections.
  key_rules: Keep ISRs short; no allocation; no locks that can deadlock; communicate via lock-free queues or deferred processing.
  asil_tightening: 'C/D: formally justify ISR design; verify priority scheme; avoid shared mutable state.'
  notes_examples: In bare-metal Rust, use a qualified HAL + critical-section abstraction.
  row_id: r0007
  cell_trace:
    principle:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_i01k1TPgDAWz
    rust_mapping:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_HsRZwFGzBUeH
    key_rules:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_jCWaaUOyJzlK
    asil_tightening:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_55XgPXMZz129
    notes_examples:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_qrjooL0m7mJH
- principle: 1h Spatial isolation
  rust_mapping: "Memory protection + partitioning; Rust\u2019s memory safety complements but does not replace MPU/MMU partitioning."
  key_rules: No shared mutable globals; isolate safety partitions into separate processes/partitions where needed.
  asil_tightening: 'D: require evidence of freedom from interference; use MPU/MMU or OS partitioning.'
  notes_examples: Rust prevents many memory errors but not timing/resource interference.
  row_id: r0008
  cell_trace:
    principle:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_TNnv7G9rxqUo
    rust_mapping:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_NUFl3EvRBDXm
    key_rules:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_vK2hfLxKS1Wh
    asil_tightening:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_84Sz404EslMD
    notes_examples:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_CTnMD7muuTkF
- principle: 1i Shared resource management
  rust_mapping: Mutex/RwLock/Atomics; ownership; explicit resource arbitration; avoid global contention.
  key_rules: Define lock ordering; require bounded blocking; prefer lock-free only with documented memory ordering; resource usage budgets.
  asil_tightening: 'C/D: deadlock analysis; resource usage evaluation (stack/heap/time).'
  notes_examples: Applies to shared HW resources (buses, peripherals) and SW resources.
  row_id: r0009
  cell_trace:
    principle:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_ds8EuCvq3wyf
    rust_mapping:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_r2NapxVF0it1
    key_rules:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_q3zfFoPB9htB
    asil_tightening:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_0J3weGw4d6al
    notes_examples:
      trace_status: unmapped_with_rationale
      anchor_ids: []
      relation: ''
      irm_id: irm_gfSQTkhzeOjP
